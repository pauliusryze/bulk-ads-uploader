{"ast":null,"code":"import React,{useState}from'react';import{QueryClient,QueryClientProvider}from'@tanstack/react-query';import{useAuthStatus,useValidateCredentials,useUploadMedia,useTemplates,useCreateTemplate,useJobs,useCreateEnhancedBulkAds}from'../hooks/useApi';import{Button}from'./ui/button';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'./ui/card';import{Input}from'./ui/input';import{Label}from'./ui/label';import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from'./ui/select';import{Progress}from'./ui/progress';import{Badge}from'./ui/badge';import{Tabs,TabsContent,TabsList,TabsTrigger}from'./ui/tabs';import{Toaster}from'./ui/toaster';import{useToast}from'../hooks/use-toast';import{AdRow}from'./AdRow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Create a client\nconst queryClient=new QueryClient();function DashboardContent(){var _authStatus$data,_authStatus$data2,_templateForm$convers,_templateForm$convers2,_templates$data;const{toast}=useToast();const[credentials,setCredentials]=useState({appId:'',appSecret:'',accessToken:'',adAccountId:''});// Template form state\nconst[templateForm,setTemplateForm]=useState({name:'',adDescription:'',adCopy:{headline:'',primaryText:'',callToAction:'LEARN_MORE',description:''},targeting:{ageMin:18,ageMax:65,locations:[],interests:[]},delivery:{accelerated:false,costPerResult:undefined,costPerResultCurrency:'USD'},conversion:{conversionEvent:null,dataset:null},placement:{facebook:true,instagram:true,audienceNetwork:false}});// Enhanced bulk ads form state\nconst[bulkAdsForm,setBulkAdsForm]=useState({templateId:'',uploadedMedia:[],// Store uploaded media for this session\nadItems:[],// Individual ad items\ncampaigns:[],facebookPages:[],instagramPages:[],pixels:[],massApplyOptions:{campaignId:'',budget:0,startDate:null,facebookPageId:'',instagramPageId:'',mediaSetup:{type:'manual',label:'Manual upload',description:'Manually upload images or videos.'},advantagePlusEnhancements:{translateText:false,showProducts:false,visualTouchUps:false,textImprovements:false,enhanceCTA:false,addVideoEffects:false},pixelId:'',urlParams:''}});// Mock data for pixels\nconst mockPixels=[{id:'1',name:'Blotout test pixel',datasetId:'3982706215295583',status:'ACTIVE',type:'CONVERSIONS_API'},{id:'2',name:'RYZE - ARC - Pixel',datasetId:'3376555439287120',status:'ACTIVE',type:'CONVERSIONS_API'},{id:'3',name:'RYZE, LLC\\'s Pixel',datasetId:'699191640895018',status:'ACTIVE',type:'CONVERSIONS_API'},{id:'4',name:'Hyros Conversions Pixel',datasetId:'344903561127876',status:'INACTIVE',type:'PIXEL'}];// API Hooks\nconst authStatus=useAuthStatus();const validateCredentials=useValidateCredentials();const uploadMedia=useUploadMedia();const templates=useTemplates();const createTemplate=useCreateTemplate();const jobs=useJobs();const createEnhancedBulkAds=useCreateEnhancedBulkAds();// Media upload handling for bulk ads session\nconst handleMediaUpload=async event=>{const files=Array.from(event.target.files||[]);if(files.length===0)return;// Check if template is selected\nif(!bulkAdsForm.templateId){toast({title:'Template Required',description:'Please select a template before uploading media',variant:'destructive'});return;}try{const result=await uploadMedia.mutateAsync(files);// Add uploaded media to the current session\nsetBulkAdsForm(prev=>({...prev,uploadedMedia:[...prev.uploadedMedia,...result.uploadedMedia]}));// Create individual ad items for each uploaded media\nconst newAdItems=result.uploadedMedia.map(media=>({id:`ad-${Date.now()}-${Math.random()}`,mediaId:media.id,mediaType:media.mediaType,filename:media.originalName,thumbnailUrl:media.url,campaignId:'',campaignName:'',adSetName:media.originalName.replace(/\\.[^/.]+$/,''),// Remove file extension\nadName:media.originalName.replace(/\\.[^/.]+$/,''),// Remove file extension\nbudget:0,startDate:null,facebookPageId:'',instagramPageId:'',mediaSetup:{type:'manual',label:'Manual upload',description:'Manually upload images or videos.'},advantagePlusEnhancements:{translateText:false,showProducts:false,visualTouchUps:false,textImprovements:false,enhanceCTA:false,addVideoEffects:false},pixelId:'',urlParams:''}));setBulkAdsForm(prev=>({...prev,adItems:[...prev.adItems,...newAdItems]}));toast({title:'Media uploaded successfully',description:`Uploaded ${result.totalUploaded} files for this bulk ad session`});}catch(error){toast({title:'Upload failed',description:error instanceof Error?error.message:'Unknown error',variant:'destructive'});}};// Credential validation\nconst handleValidateCredentials=async()=>{try{await validateCredentials.mutateAsync(credentials);toast({title:'Credentials validated',description:'Facebook API credentials are valid'});}catch(error){toast({title:'Validation failed',description:error instanceof Error?error.message:'Unknown error',variant:'destructive'});}};// Template creation\nconst handleCreateTemplate=async()=>{// Comprehensive validation matching backend requirements\nconst errors=[];// Validate template name\nif(!templateForm.name.trim()){errors.push('Template name is required');}else if(templateForm.name.trim().length>100){errors.push('Template name must be less than 100 characters');}// Validate headline\nif(!templateForm.adCopy.headline.trim()){errors.push('Ad headline is required');}else if(templateForm.adCopy.headline.trim().length>40){errors.push('Headline must be less than 40 characters');}// Validate primary text\nif(!templateForm.adCopy.primaryText.trim()){errors.push('Primary text is required');}else if(templateForm.adCopy.primaryText.trim().length>125){errors.push('Primary text must be less than 125 characters');}// Validate description\nif(templateForm.adDescription.trim().length>500){errors.push('Description must be less than 500 characters');}// Show all validation errors\nif(errors.length>0){toast({title:'Template creation failed',description:errors.join(', '),variant:'destructive'});return;}try{const templateData={name:templateForm.name.trim(),adDescription:templateForm.adDescription.trim(),adCopy:{headline:templateForm.adCopy.headline.trim(),primaryText:templateForm.adCopy.primaryText.trim(),callToAction:templateForm.adCopy.callToAction,description:templateForm.adCopy.description.trim()},targeting:templateForm.targeting,delivery:templateForm.delivery,conversion:templateForm.conversion,placement:templateForm.placement};await createTemplate.mutateAsync(templateData);toast({title:'Template created successfully',description:'Your ad template has been saved'});// Reset form\nsetTemplateForm({name:'',adDescription:'',adCopy:{headline:'',primaryText:'',callToAction:'LEARN_MORE',description:''},targeting:{ageMin:18,ageMax:65,locations:[],interests:[]},delivery:{accelerated:false,costPerResult:undefined,costPerResultCurrency:'USD'},conversion:{conversionEvent:null,dataset:null},placement:{facebook:true,instagram:true,audienceNetwork:false}});}catch(error){toast({title:'Template creation failed',description:error instanceof Error?error.message:'Unknown error',variant:'destructive'});}};// Bulk ads creation\nconst handleCreateBulkAds=async()=>{if(bulkAdsForm.adItems.length===0){toast({title:'No ads to create',description:'Please upload media and configure your ads first',variant:'destructive'});return;}if(!bulkAdsForm.templateId){toast({title:'Template required',description:'Please select a template for your ads',variant:'destructive'});return;}try{const request={items:bulkAdsForm.adItems,templateId:bulkAdsForm.templateId,options:{createCampaign:false,// We're using existing campaigns\ncreateAdSet:true,status:'PAUSED'}};await createEnhancedBulkAds.mutateAsync(request);toast({title:'Bulk ads creation started',description:'Your ads are being created. Check the Jobs tab for progress.'});// Reset form\nsetBulkAdsForm(prev=>({...prev,adItems:[],uploadedMedia:[]}));}catch(error){toast({title:'Bulk ads creation failed',description:error instanceof Error?error.message:'Unknown error',variant:'destructive'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Facebook Ads Bulk Uploader\"}),/*#__PURE__*/_jsx(Badge,{variant:(_authStatus$data=authStatus.data)!==null&&_authStatus$data!==void 0&&_authStatus$data.isInitialized?'default':'secondary',children:(_authStatus$data2=authStatus.data)!==null&&_authStatus$data2!==void 0&&_authStatus$data2.isInitialized?'Connected':'Disconnected'})]}),/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"auth\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(TabsList,{children:[/*#__PURE__*/_jsx(TabsTrigger,{value:\"auth\",children:\"Authentication\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"templates\",children:\"Templates\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"ads\",children:\"Bulk Ads\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"jobs\",children:\"Jobs\"})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"auth\",className:\"space-y-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Facebook API Credentials\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Enter your Facebook App credentials to connect to the Facebook Marketing API\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"appId\",children:\"App ID\"}),/*#__PURE__*/_jsx(Input,{id:\"appId\",value:credentials.appId,onChange:e=>setCredentials({...credentials,appId:e.target.value}),placeholder:\"Enter your Facebook App ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"appSecret\",children:\"App Secret\"}),/*#__PURE__*/_jsx(Input,{id:\"appSecret\",type:\"password\",value:credentials.appSecret,onChange:e=>setCredentials({...credentials,appSecret:e.target.value}),placeholder:\"Enter your Facebook App Secret\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"accessToken\",children:\"Access Token\"}),/*#__PURE__*/_jsx(Input,{id:\"accessToken\",type:\"password\",value:credentials.accessToken,onChange:e=>setCredentials({...credentials,accessToken:e.target.value}),placeholder:\"Enter your Facebook Access Token\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"adAccountId\",children:\"Ad Account ID\"}),/*#__PURE__*/_jsx(Input,{id:\"adAccountId\",value:credentials.adAccountId,onChange:e=>setCredentials({...credentials,adAccountId:e.target.value}),placeholder:\"act_123456789\"})]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleValidateCredentials,disabled:validateCredentials.isPending,className:\"w-full\",children:validateCredentials.isPending?'Validating...':'Validate Credentials'})]})]})}),/*#__PURE__*/_jsxs(TabsContent,{value:\"templates\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Create New Template\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Create a new ad template with Facebook Ads optimization settings\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"templateName\",children:\"Template Name\"}),/*#__PURE__*/_jsx(Input,{id:\"templateName\",value:templateForm.name,onChange:e=>setTemplateForm({...templateForm,name:e.target.value}),placeholder:\"Enter template name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"callToAction\",children:\"Call to Action\"}),/*#__PURE__*/_jsxs(Select,{value:templateForm.adCopy.callToAction,onValueChange:value=>setTemplateForm({...templateForm,adCopy:{...templateForm.adCopy,callToAction:value}}),children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select call to action\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"SHOP_NOW\",children:\"Shop Now\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"LEARN_MORE\",children:\"Learn More\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"SIGN_UP\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"BOOK_NOW\",children:\"Book Now\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"CONTACT_US\",children:\"Contact Us\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"templateDescription\",children:\"Ad Description\"}),/*#__PURE__*/_jsx(Input,{id:\"templateDescription\",value:templateForm.adDescription,onChange:e=>setTemplateForm({...templateForm,adDescription:e.target.value}),placeholder:\"Enter ad description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"headline\",children:\"Ad Headline\"}),/*#__PURE__*/_jsx(Input,{id:\"headline\",value:templateForm.adCopy.headline,onChange:e=>setTemplateForm({...templateForm,adCopy:{...templateForm.adCopy,headline:e.target.value}}),placeholder:\"Enter ad headline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"primaryText\",children:\"Primary Text\"}),/*#__PURE__*/_jsx(Input,{id:\"primaryText\",value:templateForm.adCopy.primaryText,onChange:e=>setTemplateForm({...templateForm,adCopy:{...templateForm.adCopy,primaryText:e.target.value}}),placeholder:\"Enter primary text\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold\",children:\"Conversion Settings\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Conversion Event\"}),/*#__PURE__*/_jsxs(Select,{value:((_templateForm$convers=templateForm.conversion.conversionEvent)===null||_templateForm$convers===void 0?void 0:_templateForm$convers.id)||undefined,onValueChange:value=>{// TODO: Get conversion events from Facebook API\nconst mockConversionEvents=[{id:'1',name:'Purchase',category:'PURCHASE',description:'Purchase event'},{id:'2',name:'Add to Cart',category:'ADD_TO_CART',description:'Add to cart event'},{id:'3',name:'Lead',category:'LEAD',description:'Lead generation event'}];const selectedEvent=mockConversionEvents.find(e=>e.id===value);setTemplateForm({...templateForm,conversion:{...templateForm.conversion,conversionEvent:selectedEvent||null}});},children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select conversion event\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"1\",children:\"Purchase\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"2\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"3\",children:\"Lead\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Dataset\"}),/*#__PURE__*/_jsxs(Select,{value:((_templateForm$convers2=templateForm.conversion.dataset)===null||_templateForm$convers2===void 0?void 0:_templateForm$convers2.id)||undefined,onValueChange:value=>{// TODO: Get datasets from Facebook API\nconst mockDatasets=[{id:'1',name:'Blotout test pixel',datasetId:'3982706215295583',type:'CONVERSIONS_API',isActive:true},{id:'2',name:'RYZE - ARC - Pixel',datasetId:'3376555439287120',type:'CONVERSIONS_API',isActive:true},{id:'3',name:'RYZE, LLC\\'s Pixel',datasetId:'699191640895018',type:'CONVERSIONS_API',isActive:true}];const selectedDataset=mockDatasets.find(d=>d.id===value);setTemplateForm({...templateForm,conversion:{...templateForm.conversion,dataset:selectedDataset||null}});},children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select dataset\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"1\",children:\"Blotout test pixel\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"2\",children:\"RYZE - ARC - Pixel\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"3\",children:\"RYZE, LLC's Pixel\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold\",children:\"Delivery Settings\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"accelerated\",checked:templateForm.delivery.accelerated,onChange:e=>setTemplateForm({...templateForm,delivery:{...templateForm.delivery,accelerated:e.target.checked}}),className:\"mt-1\"}),/*#__PURE__*/_jsx(Label,{htmlFor:\"accelerated\",children:\"Accelerated delivery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Cost Per Result\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",value:templateForm.delivery.costPerResult||'',onChange:e=>setTemplateForm({...templateForm,delivery:{...templateForm.delivery,costPerResult:e.target.value?parseFloat(e.target.value):undefined}}),placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Currency\"}),/*#__PURE__*/_jsxs(Select,{value:templateForm.delivery.costPerResultCurrency,onValueChange:value=>setTemplateForm({...templateForm,delivery:{...templateForm.delivery,costPerResultCurrency:value}}),children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"EUR\",children:\"EUR\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"GBP\",children:\"GBP\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"CAD\",children:\"CAD\"})]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold\",children:\"Targeting\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Minimum Age\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",value:templateForm.targeting.ageMin,onChange:e=>setTemplateForm({...templateForm,targeting:{...templateForm.targeting,ageMin:parseInt(e.target.value)||18}}),min:\"13\",max:\"65\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Maximum Age\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",value:templateForm.targeting.ageMax,onChange:e=>setTemplateForm({...templateForm,targeting:{...templateForm.targeting,ageMax:parseInt(e.target.value)||65}}),min:\"13\",max:\"65\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Country Locations\"}),/*#__PURE__*/_jsxs(Select,{onValueChange:value=>{// TODO: Get countries from Facebook API\nconst mockCountries=[{id:'US',name:'United States',type:'country',country_code:'US'},{id:'CA',name:'Canada',type:'country',country_code:'CA'},{id:'GB',name:'United Kingdom',type:'country',country_code:'GB'},{id:'DE',name:'Germany',type:'country',country_code:'DE'},{id:'FR',name:'France',type:'country',country_code:'FR'}];const selectedCountry=mockCountries.find(c=>c.id===value);if(selectedCountry&&!templateForm.targeting.locations.find(l=>l.id===selectedCountry.id)){setTemplateForm({...templateForm,targeting:{...templateForm.targeting,locations:[...templateForm.targeting.locations,selectedCountry]}});}},children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select countries\"})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"US\",children:\"United States\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"CA\",children:\"Canada\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"GB\",children:\"United Kingdom\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"DE\",children:\"Germany\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"FR\",children:\"France\"})]})]}),templateForm.targeting.locations.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mt-2\",children:templateForm.targeting.locations.map(location=>/*#__PURE__*/_jsxs(Badge,{variant:\"secondary\",className:\"flex items-center gap-1\",children:[location.name,/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTemplateForm({...templateForm,targeting:{...templateForm.targeting,locations:templateForm.targeting.locations.filter(l=>l.id!==location.id)}}),className:\"ml-1 text-xs\",children:\"\\xD7\"})]},location.id))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold bg-blue-600 text-white p-2 rounded-t-lg -mt-6 -mx-6 mb-4 block\",children:\"Placement controls\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[{key:'feeds',label:'Feeds',description:'Get high visibility for your business with ads in feeds'},{key:'storiesAndReels',label:'Stories and Reels',description:'Tell a rich, visual story with immersive, fullscreen vertical ads'},{key:'inStreamAds',label:'In-stream ads for videos and reels',description:'Reach people before, during or after they watch a video or reel'},{key:'searchResults',label:'Search results',description:'Get visibility for your business as people search'},{key:'appsAndSites',label:'Apps and sites',description:'Expand your reach with ads in external apps and websites'}].map(option=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 p-2 rounded border\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:option.key,defaultChecked:true,className:\"mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:option.key,className:\"font-medium\",children:option.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:option.description})]})]},option.key))})]}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateTemplate,disabled:createTemplate.isPending||!templateForm.name.trim()||!templateForm.adDescription.trim()||!templateForm.adCopy.headline.trim()||!templateForm.adCopy.primaryText.trim()||!templateForm.targeting.locations.length||!templateForm.conversion.conversionEvent||!templateForm.conversion.dataset,className:\"w-full\",children:createTemplate.isPending?'Creating Template...':'Create Template'})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Existing Templates\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Your saved ad templates\"})]}),/*#__PURE__*/_jsx(CardContent,{children:templates.isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading templates...\"}):templates.data&&templates.data.templates.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:templates.data.templates.map(template=>{var _template$targeting$l;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:template.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"outline\",children:template.adCopy.callToAction}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// TODO: Implement edit functionality\ntoast({title:'Edit Template',description:'Edit functionality coming soon'});},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"destructive\",size:\"sm\",onClick:()=>{// TODO: Implement delete functionality\ntoast({title:'Delete Template',description:'Delete functionality coming soon'});},children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex gap-2\",children:[/*#__PURE__*/_jsxs(Badge,{variant:\"outline\",children:[\"Age: \",template.targeting.ageMin,\"-\",template.targeting.ageMax]}),/*#__PURE__*/_jsxs(Badge,{variant:\"outline\",children:[\"Locations: \",((_template$targeting$l=template.targeting.locations)===null||_template$targeting$l===void 0?void 0:_template$targeting$l.length)||0]}),/*#__PURE__*/_jsx(Badge,{variant:\"outline\",children:template.budget.currency})]})]},template.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-muted-foreground py-8\",children:\"No templates found. Create your first template above.\"})})]})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"ads\",className:\"space-y-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Create Bulk Ads\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Upload media and create multiple ads using templates\"})]}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold\",children:\"Upload Media for This Session\"}),/*#__PURE__*/_jsxs(Badge,{variant:\"outline\",children:[bulkAdsForm.uploadedMedia.length,\" files\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"media\",children:\"Select Images & Videos\"}),/*#__PURE__*/_jsx(Input,{id:\"media\",type:\"file\",multiple:true,accept:\"image/*,video/*\",onChange:handleMediaUpload,disabled:uploadMedia.isPending}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:\"Supported formats: JPG, PNG, GIF, MP4, MOV, AVI\"})]}),uploadMedia.isPending&&/*#__PURE__*/_jsx(Progress,{value:33,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{children:\"Select Template *\"}),/*#__PURE__*/_jsxs(Select,{value:bulkAdsForm.templateId,onValueChange:value=>setBulkAdsForm({...bulkAdsForm,templateId:value}),children:[/*#__PURE__*/_jsx(SelectTrigger,{children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Choose a template (required)\"})}),/*#__PURE__*/_jsx(SelectContent,{children:(_templates$data=templates.data)===null||_templates$data===void 0?void 0:_templates$data.templates.map(template=>/*#__PURE__*/_jsx(SelectItem,{value:template.id,children:template.name},template.id))})]}),!bulkAdsForm.templateId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-500\",children:\"Template selection is required to create ads\"})]}),bulkAdsForm.adItems.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-lg font-semibold\",children:\"Configure Individual Ads\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// Mass apply campaign\nif(bulkAdsForm.massApplyOptions.campaignId){const selectedCampaign=bulkAdsForm.campaigns.find(c=>c.id===bulkAdsForm.massApplyOptions.campaignId);setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>({...item,campaignId:bulkAdsForm.massApplyOptions.campaignId,campaignName:(selectedCampaign===null||selectedCampaign===void 0?void 0:selectedCampaign.name)||''}))}));}},children:\"Apply Campaign to All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// Mass apply budget\nif(bulkAdsForm.massApplyOptions.budget){setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>({...item,budget:bulkAdsForm.massApplyOptions.budget}))}));}},children:\"Apply Budget to All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// Mass apply Advantage+ Creative Enhancements\nconst enhancements=bulkAdsForm.massApplyOptions.advantagePlusEnhancements;if(enhancements){setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>({...item,advantagePlusEnhancements:enhancements}))}));}},children:\"Apply Advantage+ to All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// Mass apply pixel\nif(bulkAdsForm.massApplyOptions.pixelId){const selectedPixel=mockPixels.find(p=>p.id===bulkAdsForm.massApplyOptions.pixelId);setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>({...item,selectedPixelId:bulkAdsForm.massApplyOptions.pixelId,selectedPixelName:selectedPixel===null||selectedPixel===void 0?void 0:selectedPixel.name}))}));}},children:\"Apply Pixel to All\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>{// Mass apply URL parameters\nif(bulkAdsForm.massApplyOptions.urlParams){setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>({...item,urlParameters:bulkAdsForm.massApplyOptions.urlParams}))}));}},children:\"Apply URL Params to All\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-4 p-4 border rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Campaign\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkAdsForm.massApplyOptions.campaignId||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,campaignId:e.target.value}})),className:\"w-full text-sm border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Campaign\"}),bulkAdsForm.campaigns.map(campaign=>/*#__PURE__*/_jsx(\"option\",{value:campaign.id,children:campaign.name},campaign.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Budget\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",value:bulkAdsForm.massApplyOptions.budget||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,budget:parseFloat(e.target.value)||0}})),placeholder:\"0.00\",className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Start Date\"}),/*#__PURE__*/_jsx(Input,{type:\"datetime-local\",value:bulkAdsForm.massApplyOptions.startDate?bulkAdsForm.massApplyOptions.startDate.toISOString().slice(0,16):'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,startDate:e.target.value?new Date(e.target.value):null}})),className:\"text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Facebook Page\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkAdsForm.massApplyOptions.facebookPageId||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,facebookPageId:e.target.value}})),className:\"w-full text-sm border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Page\"}),bulkAdsForm.facebookPages.map(page=>/*#__PURE__*/_jsx(\"option\",{value:page.id,children:page.name},page.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Instagram Page\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkAdsForm.massApplyOptions.instagramPageId||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,instagramPageId:e.target.value}})),className:\"w-full text-sm border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Page\"}),bulkAdsForm.instagramPages.map(page=>/*#__PURE__*/_jsx(\"option\",{value:page.id,children:page.name},page.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Advantage+ Enhancements\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:\"Configure individual ad settings for Advantage+ features\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply Pixel\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkAdsForm.massApplyOptions.pixelId||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,pixelId:e.target.value}})),className:\"w-full text-sm border rounded px-2 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Pixel\"}),mockPixels.map(pixel=>/*#__PURE__*/_jsx(\"option\",{value:pixel.id,children:pixel.name},pixel.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{className:\"text-xs\",children:\"Mass Apply URL Params\"}),/*#__PURE__*/_jsx(Input,{value:bulkAdsForm.massApplyOptions.urlParams||'',onChange:e=>setBulkAdsForm(prev=>({...prev,massApplyOptions:{...prev.massApplyOptions,urlParams:e.target.value}})),placeholder:\"key1=value1&key2=value2\",className:\"text-sm\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:bulkAdsForm.adItems.map(item=>{var _templates$data2;return/*#__PURE__*/_jsx(AdRow,{ad:item,campaigns:bulkAdsForm.campaigns,facebookPages:bulkAdsForm.facebookPages,instagramPages:bulkAdsForm.instagramPages,pixels:mockPixels,templates:((_templates$data2=templates.data)===null||_templates$data2===void 0?void 0:_templates$data2.templates)||[],selectedTemplateId:bulkAdsForm.templateId,onUpdate:updatedAd=>{setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.map(item=>item.id===updatedAd.id?updatedAd:item)}));},onRemove:()=>{setBulkAdsForm(prev=>({...prev,adItems:prev.adItems.filter(adItem=>adItem.id!==item.id),uploadedMedia:prev.uploadedMedia.filter(media=>{var _prev$adItems$find;return!((_prev$adItems$find=prev.adItems.find(adItem=>adItem.id===item.id))!==null&&_prev$adItems$find!==void 0&&_prev$adItems$find.mediaId.includes(media.id));})}));},onTemplateChange:templateId=>{setBulkAdsForm(prev=>({...prev,templateId:templateId}));}},item.id);})})]}),/*#__PURE__*/_jsx(Button,{onClick:handleCreateBulkAds,disabled:createEnhancedBulkAds.isPending||!bulkAdsForm.templateId||bulkAdsForm.adItems.length===0,className:\"w-full\",children:createEnhancedBulkAds.isPending?'Creating Ads...':'Create Bulk Ads'})]})]})}),/*#__PURE__*/_jsx(TabsContent,{value:\"jobs\",className:\"space-y-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Job Status\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Monitor the progress of your bulk ad creation jobs\"})]}),/*#__PURE__*/_jsx(CardContent,{children:jobs.isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading jobs...\"}):jobs.data?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:jobs.data.jobs.map(job=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold\",children:[\"Job \",job.id.slice(0,8)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[job.createdAds,\" created, \",job.failedAds,\" failed\"]})]}),/*#__PURE__*/_jsx(Badge,{variant:job.status==='COMPLETED'?'default':job.status==='FAILED'?'destructive':'secondary',children:job.status})]}),/*#__PURE__*/_jsx(Progress,{value:job.progress,className:\"mt-2\"})]},job.id))}):/*#__PURE__*/_jsx(\"div\",{children:\"No jobs found\"})})]})})]})]});}export function Dashboard(){return/*#__PURE__*/_jsxs(QueryClientProvider,{client:queryClient,children:[/*#__PURE__*/_jsx(DashboardContent,{}),/*#__PURE__*/_jsx(Toaster,{})]});}","map":{"version":3,"names":["React","useState","QueryClient","QueryClientProvider","useAuthStatus","useValidateCredentials","useUploadMedia","useTemplates","useCreateTemplate","useJobs","useCreateEnhancedBulkAds","Button","Card","CardContent","CardDescription","CardHeader","CardTitle","Input","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Progress","Badge","Tabs","TabsContent","TabsList","TabsTrigger","Toaster","useToast","AdRow","jsx","_jsx","jsxs","_jsxs","queryClient","DashboardContent","_authStatus$data","_authStatus$data2","_templateForm$convers","_templateForm$convers2","_templates$data","toast","credentials","setCredentials","appId","appSecret","accessToken","adAccountId","templateForm","setTemplateForm","name","adDescription","adCopy","headline","primaryText","callToAction","description","targeting","ageMin","ageMax","locations","interests","delivery","accelerated","costPerResult","undefined","costPerResultCurrency","conversion","conversionEvent","dataset","placement","facebook","instagram","audienceNetwork","bulkAdsForm","setBulkAdsForm","templateId","uploadedMedia","adItems","campaigns","facebookPages","instagramPages","pixels","massApplyOptions","campaignId","budget","startDate","facebookPageId","instagramPageId","mediaSetup","type","label","advantagePlusEnhancements","translateText","showProducts","visualTouchUps","textImprovements","enhanceCTA","addVideoEffects","pixelId","urlParams","mockPixels","id","datasetId","status","authStatus","validateCredentials","uploadMedia","templates","createTemplate","jobs","createEnhancedBulkAds","handleMediaUpload","event","files","Array","from","target","length","title","variant","result","mutateAsync","prev","newAdItems","map","media","Date","now","Math","random","mediaId","mediaType","filename","originalName","thumbnailUrl","url","campaignName","adSetName","replace","adName","totalUploaded","error","Error","message","handleValidateCredentials","handleCreateTemplate","errors","trim","push","join","templateData","handleCreateBulkAds","request","items","options","createCampaign","createAdSet","className","children","data","isInitialized","defaultValue","value","htmlFor","onChange","e","placeholder","onClick","disabled","isPending","onValueChange","mockConversionEvents","category","selectedEvent","find","mockDatasets","isActive","selectedDataset","d","checked","parseFloat","parseInt","min","max","mockCountries","country_code","selectedCountry","c","l","location","filter","key","option","defaultChecked","isLoading","template","_template$targeting$l","size","currency","multiple","accept","selectedCampaign","item","enhancements","selectedPixel","p","selectedPixelId","selectedPixelName","urlParameters","campaign","toISOString","slice","page","pixel","_templates$data2","ad","selectedTemplateId","onUpdate","updatedAd","onRemove","adItem","_prev$adItems$find","includes","onTemplateChange","job","createdAds","failedAds","progress","Dashboard","client"],"sources":["/Users/paulius/Downloads/Projects/Meta Ads Uploader/frontend/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { \n  useAuthStatus, \n  useValidateCredentials, \n  useUploadMedia, \n  useTemplates, \n  useCreateTemplate, \n  useJobs, \n  useCreateEnhancedBulkAds\n} from '../hooks/useApi';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from './ui/card';\nimport { Input } from './ui/input';\nimport { Label } from './ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Progress } from './ui/progress';\nimport { Badge } from './ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Toaster } from './ui/toaster';\nimport { useToast } from '../hooks/use-toast';\nimport { FacebookCredentials } from '../lib/api';\nimport { BulkAdItem, FacebookCampaign, FacebookPage, FacebookPixel, MassApplyOptions } from '../types';\nimport { AdRow } from './AdRow';\nimport { Info } from 'lucide-react';\nimport { FacebookLocation, FacebookConversionEvent, FacebookDataset } from '../types';\n\n// Create a client\nconst queryClient = new QueryClient();\n\nfunction DashboardContent() {\n  const { toast } = useToast();\n  const [credentials, setCredentials] = useState<FacebookCredentials>({\n    appId: '',\n    appSecret: '',\n    accessToken: '',\n    adAccountId: '',\n  });\n\n  // Template form state\n  const [templateForm, setTemplateForm] = useState({\n    name: '',\n    adDescription: '',\n    adCopy: {\n      headline: '',\n      primaryText: '',\n      callToAction: 'LEARN_MORE' as const,\n      description: ''\n    },\n    targeting: {\n      ageMin: 18,\n      ageMax: 65,\n      locations: [] as FacebookLocation[],\n      interests: [] as string[]\n    },\n    delivery: {\n      accelerated: false,\n      costPerResult: undefined as number | undefined,\n      costPerResultCurrency: 'USD' as 'USD' | 'EUR' | 'GBP' | 'CAD'\n    },\n    conversion: {\n      conversionEvent: null as FacebookConversionEvent | null,\n      dataset: null as FacebookDataset | null\n    },\n    placement: {\n      facebook: true,\n      instagram: true,\n      audienceNetwork: false\n    }\n  });\n\n  // Enhanced bulk ads form state\n  const [bulkAdsForm, setBulkAdsForm] = useState({\n    templateId: '',\n    uploadedMedia: [] as any[], // Store uploaded media for this session\n    adItems: [] as BulkAdItem[], // Individual ad items\n    campaigns: [] as FacebookCampaign[],\n    facebookPages: [] as FacebookPage[],\n    instagramPages: [] as FacebookPage[],\n    pixels: [] as FacebookPixel[],\n    massApplyOptions: {\n      campaignId: '',\n      budget: 0,\n      startDate: null as Date | null,\n      facebookPageId: '',\n      instagramPageId: '',\n      mediaSetup: {\n        type: 'manual' as const,\n        label: 'Manual upload',\n        description: 'Manually upload images or videos.'\n      },\n      advantagePlusEnhancements: {\n        translateText: false,\n        showProducts: false,\n        visualTouchUps: false,\n        textImprovements: false,\n        enhanceCTA: false,\n        addVideoEffects: false\n      },\n      pixelId: '',\n      urlParams: ''\n    } as MassApplyOptions\n  });\n\n  // Mock data for pixels\n  const mockPixels: FacebookPixel[] = [\n    {\n      id: '1',\n      name: 'Blotout test pixel',\n      datasetId: '3982706215295583',\n      status: 'ACTIVE',\n      type: 'CONVERSIONS_API'\n    },\n    {\n      id: '2',\n      name: 'RYZE - ARC - Pixel',\n      datasetId: '3376555439287120',\n      status: 'ACTIVE',\n      type: 'CONVERSIONS_API'\n    },\n    {\n      id: '3',\n      name: 'RYZE, LLC\\'s Pixel',\n      datasetId: '699191640895018',\n      status: 'ACTIVE',\n      type: 'CONVERSIONS_API'\n    },\n    {\n      id: '4',\n      name: 'Hyros Conversions Pixel',\n      datasetId: '344903561127876',\n      status: 'INACTIVE',\n      type: 'PIXEL'\n    }\n  ];\n\n  // API Hooks\n  const authStatus = useAuthStatus();\n  const validateCredentials = useValidateCredentials();\n  const uploadMedia = useUploadMedia();\n  const templates = useTemplates();\n  const createTemplate = useCreateTemplate();\n  const jobs = useJobs();\n  const createEnhancedBulkAds = useCreateEnhancedBulkAds();\n\n  // Media upload handling for bulk ads session\n  const handleMediaUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(event.target.files || []);\n    if (files.length === 0) return;\n\n    // Check if template is selected\n    if (!bulkAdsForm.templateId) {\n      toast({\n        title: 'Template Required',\n        description: 'Please select a template before uploading media',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      const result = await uploadMedia.mutateAsync(files);\n      \n      // Add uploaded media to the current session\n      setBulkAdsForm(prev => ({\n        ...prev,\n        uploadedMedia: [...prev.uploadedMedia, ...result.uploadedMedia]\n      }));\n\n      // Create individual ad items for each uploaded media\n      const newAdItems: BulkAdItem[] = result.uploadedMedia.map((media) => ({\n        id: `ad-${Date.now()}-${Math.random()}`,\n        mediaId: media.id,\n        mediaType: media.mediaType,\n        filename: media.originalName,\n        thumbnailUrl: media.url,\n        campaignId: '',\n        campaignName: '',\n        adSetName: media.originalName.replace(/\\.[^/.]+$/, ''), // Remove file extension\n        adName: media.originalName.replace(/\\.[^/.]+$/, ''), // Remove file extension\n        budget: 0,\n        startDate: null,\n        facebookPageId: '',\n        instagramPageId: '',\n        mediaSetup: {\n          type: 'manual' as const,\n          label: 'Manual upload',\n          description: 'Manually upload images or videos.'\n        },\n        advantagePlusEnhancements: {\n          translateText: false,\n          showProducts: false,\n          visualTouchUps: false,\n          textImprovements: false,\n          enhanceCTA: false,\n          addVideoEffects: false\n        },\n        pixelId: '',\n        urlParams: ''\n      }));\n\n      setBulkAdsForm(prev => ({\n        ...prev,\n        adItems: [...prev.adItems, ...newAdItems]\n      }));\n\n      toast({\n        title: 'Media uploaded successfully',\n        description: `Uploaded ${result.totalUploaded} files for this bulk ad session`,\n      });\n    } catch (error) {\n      toast({\n        title: 'Upload failed',\n        description: error instanceof Error ? error.message : 'Unknown error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n\n\n  // Credential validation\n  const handleValidateCredentials = async () => {\n    try {\n      await validateCredentials.mutateAsync(credentials);\n      toast({\n        title: 'Credentials validated',\n        description: 'Facebook API credentials are valid',\n      });\n    } catch (error) {\n      toast({\n        title: 'Validation failed',\n        description: error instanceof Error ? error.message : 'Unknown error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  // Template creation\n  const handleCreateTemplate = async () => {\n    // Comprehensive validation matching backend requirements\n    const errors: string[] = [];\n\n    // Validate template name\n    if (!templateForm.name.trim()) {\n      errors.push('Template name is required');\n    } else if (templateForm.name.trim().length > 100) {\n      errors.push('Template name must be less than 100 characters');\n    }\n\n    // Validate headline\n    if (!templateForm.adCopy.headline.trim()) {\n      errors.push('Ad headline is required');\n    } else if (templateForm.adCopy.headline.trim().length > 40) {\n      errors.push('Headline must be less than 40 characters');\n    }\n\n    // Validate primary text\n    if (!templateForm.adCopy.primaryText.trim()) {\n      errors.push('Primary text is required');\n    } else if (templateForm.adCopy.primaryText.trim().length > 125) {\n      errors.push('Primary text must be less than 125 characters');\n    }\n\n    // Validate description\n    if (templateForm.adDescription.trim().length > 500) {\n      errors.push('Description must be less than 500 characters');\n    }\n\n    // Show all validation errors\n    if (errors.length > 0) {\n      toast({\n        title: 'Template creation failed',\n        description: errors.join(', '),\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n              const templateData = {\n          name: templateForm.name.trim(),\n          adDescription: templateForm.adDescription.trim(),\n          adCopy: {\n            headline: templateForm.adCopy.headline.trim(),\n            primaryText: templateForm.adCopy.primaryText.trim(),\n            callToAction: templateForm.adCopy.callToAction,\n            description: templateForm.adCopy.description.trim()\n          },\n          targeting: templateForm.targeting,\n          delivery: templateForm.delivery,\n          conversion: templateForm.conversion,\n          placement: templateForm.placement\n        };\n\n      await createTemplate.mutateAsync(templateData);\n      \n      toast({\n        title: 'Template created successfully',\n        description: 'Your ad template has been saved',\n      });\n      \n      // Reset form\n      setTemplateForm({\n        name: '',\n        adDescription: '',\n        adCopy: {\n          headline: '',\n          primaryText: '',\n          callToAction: 'LEARN_MORE',\n          description: ''\n        },\n        targeting: {\n          ageMin: 18,\n          ageMax: 65,\n          locations: [],\n          interests: []\n        },\n        delivery: {\n          accelerated: false,\n          costPerResult: undefined,\n          costPerResultCurrency: 'USD'\n        },\n        conversion: {\n          conversionEvent: null,\n          dataset: null\n        },\n        placement: {\n          facebook: true,\n          instagram: true,\n          audienceNetwork: false\n        }\n      });\n    } catch (error) {\n      toast({\n        title: 'Template creation failed',\n        description: error instanceof Error ? error.message : 'Unknown error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  // Bulk ads creation\n  const handleCreateBulkAds = async () => {\n    if (bulkAdsForm.adItems.length === 0) {\n      toast({\n        title: 'No ads to create',\n        description: 'Please upload media and configure your ads first',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    if (!bulkAdsForm.templateId) {\n      toast({\n        title: 'Template required',\n        description: 'Please select a template for your ads',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      const request = {\n        items: bulkAdsForm.adItems,\n        templateId: bulkAdsForm.templateId,\n        options: {\n          createCampaign: false, // We're using existing campaigns\n          createAdSet: true,\n          status: 'PAUSED' as 'ACTIVE' | 'PAUSED'\n        }\n      };\n\n      await createEnhancedBulkAds.mutateAsync(request);\n      \n      toast({\n        title: 'Bulk ads creation started',\n        description: 'Your ads are being created. Check the Jobs tab for progress.',\n      });\n      \n      // Reset form\n      setBulkAdsForm(prev => ({\n        ...prev,\n        adItems: [],\n        uploadedMedia: []\n      }));\n    } catch (error) {\n      toast({\n        title: 'Bulk ads creation failed',\n        description: error instanceof Error ? error.message : 'Unknown error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-3xl font-bold\">Facebook Ads Bulk Uploader</h1>\n        <Badge variant={authStatus.data?.isInitialized ? 'default' : 'secondary'}>\n          {authStatus.data?.isInitialized ? 'Connected' : 'Disconnected'}\n        </Badge>\n      </div>\n\n      <Tabs defaultValue=\"auth\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"auth\">Authentication</TabsTrigger>\n          <TabsTrigger value=\"templates\">Templates</TabsTrigger>\n          <TabsTrigger value=\"ads\">Bulk Ads</TabsTrigger>\n          <TabsTrigger value=\"jobs\">Jobs</TabsTrigger>\n        </TabsList>\n\n        {/* Authentication Tab */}\n        <TabsContent value=\"auth\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Facebook API Credentials</CardTitle>\n              <CardDescription>\n                Enter your Facebook App credentials to connect to the Facebook Marketing API\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"appId\">App ID</Label>\n                  <Input\n                    id=\"appId\"\n                    value={credentials.appId}\n                    onChange={(e) => setCredentials({ ...credentials, appId: e.target.value })}\n                    placeholder=\"Enter your Facebook App ID\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"appSecret\">App Secret</Label>\n                  <Input\n                    id=\"appSecret\"\n                    type=\"password\"\n                    value={credentials.appSecret}\n                    onChange={(e) => setCredentials({ ...credentials, appSecret: e.target.value })}\n                    placeholder=\"Enter your Facebook App Secret\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"accessToken\">Access Token</Label>\n                  <Input\n                    id=\"accessToken\"\n                    type=\"password\"\n                    value={credentials.accessToken}\n                    onChange={(e) => setCredentials({ ...credentials, accessToken: e.target.value })}\n                    placeholder=\"Enter your Facebook Access Token\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"adAccountId\">Ad Account ID</Label>\n                  <Input\n                    id=\"adAccountId\"\n                    value={credentials.adAccountId}\n                    onChange={(e) => setCredentials({ ...credentials, adAccountId: e.target.value })}\n                    placeholder=\"act_123456789\"\n                  />\n                </div>\n              </div>\n              <Button \n                onClick={handleValidateCredentials}\n                disabled={validateCredentials.isPending}\n                className=\"w-full\"\n              >\n                {validateCredentials.isPending ? 'Validating...' : 'Validate Credentials'}\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Templates Tab */}\n        <TabsContent value=\"templates\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Create New Template</CardTitle>\n              <CardDescription>\n                Create a new ad template with Facebook Ads optimization settings\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Basic Template Info */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"templateName\">Template Name</Label>\n                  <Input\n                    id=\"templateName\"\n                    value={templateForm.name}\n                    onChange={(e) => setTemplateForm({ ...templateForm, name: e.target.value })}\n                    placeholder=\"Enter template name\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"callToAction\">Call to Action</Label>\n                  <Select \n                    value={templateForm.adCopy.callToAction}\n                    onValueChange={(value) => setTemplateForm({ \n                      ...templateForm, \n                      adCopy: { ...templateForm.adCopy, callToAction: value as any }\n                    })}\n                  >\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Select call to action\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"SHOP_NOW\">Shop Now</SelectItem>\n                      <SelectItem value=\"LEARN_MORE\">Learn More</SelectItem>\n                      <SelectItem value=\"SIGN_UP\">Sign Up</SelectItem>\n                      <SelectItem value=\"BOOK_NOW\">Book Now</SelectItem>\n                      <SelectItem value=\"CONTACT_US\">Contact Us</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"templateDescription\">Ad Description</Label>\n                <Input\n                  id=\"templateDescription\"\n                  value={templateForm.adDescription}\n                  onChange={(e) => setTemplateForm({ ...templateForm, adDescription: e.target.value })}\n                  placeholder=\"Enter ad description\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"headline\">Ad Headline</Label>\n                  <Input\n                    id=\"headline\"\n                    value={templateForm.adCopy.headline}\n                    onChange={(e) => setTemplateForm({ \n                      ...templateForm, \n                      adCopy: { ...templateForm.adCopy, headline: e.target.value }\n                    })}\n                    placeholder=\"Enter ad headline\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"primaryText\">Primary Text</Label>\n                  <Input\n                    id=\"primaryText\"\n                    value={templateForm.adCopy.primaryText}\n                    onChange={(e) => setTemplateForm({ \n                      ...templateForm, \n                      adCopy: { ...templateForm.adCopy, primaryText: e.target.value }\n                    })}\n                    placeholder=\"Enter primary text\"\n                  />\n                </div>\n              </div>\n\n                {/* Conversion Location */}\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-lg font-semibold\">Conversion Settings</Label>\n                  </div>\n                  <div className=\"space-y-4\">\n                    <div className=\"space-y-2\">\n                      <Label>Conversion Event</Label>\n                      <Select \n                        value={templateForm.conversion.conversionEvent?.id || undefined}\n                        onValueChange={(value) => {\n                          // TODO: Get conversion events from Facebook API\n                          const mockConversionEvents: FacebookConversionEvent[] = [\n                            { id: '1', name: 'Purchase', category: 'PURCHASE', description: 'Purchase event' },\n                            { id: '2', name: 'Add to Cart', category: 'ADD_TO_CART', description: 'Add to cart event' },\n                            { id: '3', name: 'Lead', category: 'LEAD', description: 'Lead generation event' }\n                          ];\n                          const selectedEvent = mockConversionEvents.find(e => e.id === value);\n                          setTemplateForm({ \n                            ...templateForm, \n                            conversion: { ...templateForm.conversion, conversionEvent: selectedEvent || null }\n                          });\n                        }}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select conversion event\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"1\">Purchase</SelectItem>\n                          <SelectItem value=\"2\">Add to Cart</SelectItem>\n                          <SelectItem value=\"3\">Lead</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Dataset</Label>\n                      <Select \n                        value={templateForm.conversion.dataset?.id || undefined}\n                        onValueChange={(value) => {\n                          // TODO: Get datasets from Facebook API\n                          const mockDatasets: FacebookDataset[] = [\n                            { id: '1', name: 'Blotout test pixel', datasetId: '3982706215295583', type: 'CONVERSIONS_API', isActive: true },\n                            { id: '2', name: 'RYZE - ARC - Pixel', datasetId: '3376555439287120', type: 'CONVERSIONS_API', isActive: true },\n                            { id: '3', name: 'RYZE, LLC\\'s Pixel', datasetId: '699191640895018', type: 'CONVERSIONS_API', isActive: true }\n                          ];\n                          const selectedDataset = mockDatasets.find(d => d.id === value);\n                          setTemplateForm({ \n                            ...templateForm, \n                            conversion: { ...templateForm.conversion, dataset: selectedDataset || null }\n                          });\n                        }}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select dataset\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"1\">Blotout test pixel</SelectItem>\n                          <SelectItem value=\"2\">RYZE - ARC - Pixel</SelectItem>\n                          <SelectItem value=\"3\">RYZE, LLC's Pixel</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Delivery Settings */}\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-lg font-semibold\">Delivery Settings</Label>\n                  </div>\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"accelerated\"\n                        checked={templateForm.delivery.accelerated}\n                        onChange={(e) => setTemplateForm({ \n                          ...templateForm, \n                          delivery: { ...templateForm.delivery, accelerated: e.target.checked }\n                        })}\n                        className=\"mt-1\"\n                      />\n                      <Label htmlFor=\"accelerated\">Accelerated delivery</Label>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Cost Per Result</Label>\n                        <Input\n                          type=\"number\"\n                          value={templateForm.delivery.costPerResult || ''}\n                          onChange={(e) => setTemplateForm({ \n                            ...templateForm, \n                            delivery: { \n                              ...templateForm.delivery, \n                              costPerResult: e.target.value ? parseFloat(e.target.value) : undefined \n                            }\n                          })}\n                          placeholder=\"0.00\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Currency</Label>\n                        <Select \n                          value={templateForm.delivery.costPerResultCurrency}\n                          onValueChange={(value) => setTemplateForm({ \n                            ...templateForm, \n                            delivery: { \n                              ...templateForm.delivery, \n                              costPerResultCurrency: value as 'USD' | 'EUR' | 'GBP' | 'CAD' \n                            }\n                          })}\n                        >\n                          <SelectTrigger>\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"USD\">USD</SelectItem>\n                            <SelectItem value=\"EUR\">EUR</SelectItem>\n                            <SelectItem value=\"GBP\">GBP</SelectItem>\n                            <SelectItem value=\"CAD\">CAD</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Enhanced Targeting */}\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-lg font-semibold\">Targeting</Label>\n                  </div>\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Minimum Age</Label>\n                        <Input\n                          type=\"number\"\n                          value={templateForm.targeting.ageMin}\n                          onChange={(e) => setTemplateForm({ \n                            ...templateForm, \n                            targeting: { ...templateForm.targeting, ageMin: parseInt(e.target.value) || 18 }\n                          })}\n                          min=\"13\"\n                          max=\"65\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Maximum Age</Label>\n                        <Input\n                          type=\"number\"\n                          value={templateForm.targeting.ageMax}\n                          onChange={(e) => setTemplateForm({ \n                            ...templateForm, \n                            targeting: { ...templateForm.targeting, ageMax: parseInt(e.target.value) || 65 }\n                          })}\n                          min=\"13\"\n                          max=\"65\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Country Locations</Label>\n                      <Select \n                        onValueChange={(value) => {\n                          // TODO: Get countries from Facebook API\n                          const mockCountries: FacebookLocation[] = [\n                            { id: 'US', name: 'United States', type: 'country', country_code: 'US' },\n                            { id: 'CA', name: 'Canada', type: 'country', country_code: 'CA' },\n                            { id: 'GB', name: 'United Kingdom', type: 'country', country_code: 'GB' },\n                            { id: 'DE', name: 'Germany', type: 'country', country_code: 'DE' },\n                            { id: 'FR', name: 'France', type: 'country', country_code: 'FR' }\n                          ];\n                          const selectedCountry = mockCountries.find(c => c.id === value);\n                          if (selectedCountry && !templateForm.targeting.locations.find(l => l.id === selectedCountry.id)) {\n                            setTemplateForm({ \n                              ...templateForm, \n                              targeting: { \n                                ...templateForm.targeting, \n                                locations: [...templateForm.targeting.locations, selectedCountry]\n                              }\n                            });\n                          }\n                        }}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select countries\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"US\">United States</SelectItem>\n                          <SelectItem value=\"CA\">Canada</SelectItem>\n                          <SelectItem value=\"GB\">United Kingdom</SelectItem>\n                          <SelectItem value=\"DE\">Germany</SelectItem>\n                          <SelectItem value=\"FR\">France</SelectItem>\n                        </SelectContent>\n                      </Select>\n                      \n                      {/* Display selected locations */}\n                      {templateForm.targeting.locations.length > 0 && (\n                        <div className=\"flex flex-wrap gap-2 mt-2\">\n                          {templateForm.targeting.locations.map((location) => (\n                            <Badge key={location.id} variant=\"secondary\" className=\"flex items-center gap-1\">\n                              {location.name}\n                              <button\n                                onClick={() => setTemplateForm({ \n                                  ...templateForm, \n                                  targeting: { \n                                    ...templateForm.targeting, \n                                    locations: templateForm.targeting.locations.filter(l => l.id !== location.id)\n                                  }\n                                })}\n                                className=\"ml-1 text-xs\"\n                              >\n                                \n                              </button>\n                            </Badge>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n              {/* Placement Controls */}\n              <div className=\"space-y-4\">\n                <div>\n                  <Label className=\"text-lg font-semibold bg-blue-600 text-white p-2 rounded-t-lg -mt-6 -mx-6 mb-4 block\">\n                    Placement controls\n                  </Label>\n                </div>\n                <div className=\"space-y-4\">\n                  {[\n                    { key: 'feeds', label: 'Feeds', description: 'Get high visibility for your business with ads in feeds' },\n                    { key: 'storiesAndReels', label: 'Stories and Reels', description: 'Tell a rich, visual story with immersive, fullscreen vertical ads' },\n                    { key: 'inStreamAds', label: 'In-stream ads for videos and reels', description: 'Reach people before, during or after they watch a video or reel' },\n                    { key: 'searchResults', label: 'Search results', description: 'Get visibility for your business as people search' },\n                    { key: 'appsAndSites', label: 'Apps and sites', description: 'Expand your reach with ads in external apps and websites' }\n                  ].map((option) => (\n                    <div key={option.key} className=\"flex items-start space-x-3 p-2 rounded border\">\n                      <input\n                        type=\"checkbox\"\n                        id={option.key}\n                        defaultChecked\n                        className=\"mt-1\"\n                      />\n                      <div className=\"flex-1\">\n                        <Label htmlFor={option.key} className=\"font-medium\">{option.label}</Label>\n                        <p className=\"text-sm text-muted-foreground\">{option.description}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <Button \n                onClick={handleCreateTemplate}\n                disabled={\n                  createTemplate.isPending || \n                  !templateForm.name.trim() || \n                  !templateForm.adDescription.trim() ||\n                  !templateForm.adCopy.headline.trim() || \n                  !templateForm.adCopy.primaryText.trim() ||\n                  !templateForm.targeting.locations.length ||\n                  !templateForm.conversion.conversionEvent ||\n                  !templateForm.conversion.dataset\n                }\n                className=\"w-full\"\n              >\n                {createTemplate.isPending ? 'Creating Template...' : 'Create Template'}\n              </Button>\n            </CardContent>\n          </Card>\n\n          {/* Existing Templates */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Existing Templates</CardTitle>\n              <CardDescription>\n                Your saved ad templates\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {templates.isLoading ? (\n                <div>Loading templates...</div>\n              ) : templates.data && templates.data.templates.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {templates.data.templates.map((template) => (\n                    <div key={template.id} className=\"border rounded p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold\">{template.name}</h3>\n                          <p className=\"text-sm text-muted-foreground\">{template.description}</p>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Badge variant=\"outline\">{template.adCopy.callToAction}</Badge>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              // TODO: Implement edit functionality\n                              toast({\n                                title: 'Edit Template',\n                                description: 'Edit functionality coming soon',\n                              });\n                            }}\n                          >\n                            Edit\n                          </Button>\n                          <Button\n                            variant=\"destructive\"\n                            size=\"sm\"\n                            onClick={() => {\n                              // TODO: Implement delete functionality\n                              toast({\n                                title: 'Delete Template',\n                                description: 'Delete functionality coming soon',\n                              });\n                            }}\n                          >\n                            Delete\n                          </Button>\n                        </div>\n                      </div>\n                      <div className=\"mt-2 flex gap-2\">\n                        <Badge variant=\"outline\">Age: {template.targeting.ageMin}-{template.targeting.ageMax}</Badge>\n                        <Badge variant=\"outline\">Locations: {template.targeting.locations?.length || 0}</Badge>\n                        <Badge variant=\"outline\">{template.budget.currency}</Badge>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center text-muted-foreground py-8\">\n                  No templates found. Create your first template above.\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Bulk Ads Tab */}\n        <TabsContent value=\"ads\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Create Bulk Ads</CardTitle>\n              <CardDescription>\n                Upload media and create multiple ads using templates\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Media Upload Section */}\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <Label className=\"text-lg font-semibold\">Upload Media for This Session</Label>\n                  <Badge variant=\"outline\">{bulkAdsForm.uploadedMedia.length} files</Badge>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"media\">Select Images & Videos</Label>\n                  <Input\n                    id=\"media\"\n                    type=\"file\"\n                    multiple\n                    accept=\"image/*,video/*\"\n                    onChange={handleMediaUpload}\n                    disabled={uploadMedia.isPending}\n                  />\n                  <p className=\"text-sm text-muted-foreground\">\n                    Supported formats: JPG, PNG, GIF, MP4, MOV, AVI\n                  </p>\n                </div>\n                {uploadMedia.isPending && (\n                  <Progress value={33} className=\"w-full\" />\n                )}\n              </div>\n\n              {/* Template Selection */}\n              <div className=\"space-y-2\">\n                <Label>Select Template *</Label>\n                <Select \n                  value={bulkAdsForm.templateId}\n                  onValueChange={(value) => setBulkAdsForm({ ...bulkAdsForm, templateId: value })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Choose a template (required)\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {templates.data?.templates.map((template) => (\n                      <SelectItem key={template.id} value={template.id}>\n                        {template.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                {!bulkAdsForm.templateId && (\n                  <p className=\"text-sm text-red-500\">Template selection is required to create ads</p>\n                )}\n              </div>\n\n              {/* Individual Ad Items */}\n              {bulkAdsForm.adItems.length > 0 && (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label className=\"text-lg font-semibold\">Configure Individual Ads</Label>\n                    <div className=\"flex gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          // Mass apply campaign\n                          if (bulkAdsForm.massApplyOptions.campaignId) {\n                            const selectedCampaign = bulkAdsForm.campaigns.find(c => c.id === bulkAdsForm.massApplyOptions.campaignId);\n                            setBulkAdsForm(prev => ({\n                              ...prev,\n                              adItems: prev.adItems.map(item => ({\n                                ...item,\n                                campaignId: bulkAdsForm.massApplyOptions.campaignId!,\n                                campaignName: selectedCampaign?.name || ''\n                              }))\n                            }));\n                          }\n                        }}\n                      >\n                        Apply Campaign to All\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          // Mass apply budget\n                          if (bulkAdsForm.massApplyOptions.budget) {\n                            setBulkAdsForm(prev => ({\n                              ...prev,\n                              adItems: prev.adItems.map(item => ({\n                                ...item,\n                                budget: bulkAdsForm.massApplyOptions.budget!\n                              }))\n                            }));\n                          }\n                        }}\n                      >\n                        Apply Budget to All\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          // Mass apply Advantage+ Creative Enhancements\n                          const enhancements = bulkAdsForm.massApplyOptions.advantagePlusEnhancements;\n                          if (enhancements) {\n                            setBulkAdsForm(prev => ({\n                              ...prev,\n                              adItems: prev.adItems.map(item => ({\n                                ...item,\n                                advantagePlusEnhancements: enhancements\n                              }))\n                            }));\n                          }\n                        }}\n                      >\n                        Apply Advantage+ to All\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          // Mass apply pixel\n                          if (bulkAdsForm.massApplyOptions.pixelId) {\n                            const selectedPixel = mockPixels.find(p => p.id === bulkAdsForm.massApplyOptions.pixelId);\n                            setBulkAdsForm(prev => ({\n                              ...prev,\n                              adItems: prev.adItems.map(item => ({\n                                ...item,\n                                selectedPixelId: bulkAdsForm.massApplyOptions.pixelId,\n                                selectedPixelName: selectedPixel?.name\n                              }))\n                            }));\n                          }\n                        }}\n                      >\n                        Apply Pixel to All\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => {\n                          // Mass apply URL parameters\n                          if (bulkAdsForm.massApplyOptions.urlParams) {\n                            setBulkAdsForm(prev => ({\n                              ...prev,\n                              adItems: prev.adItems.map(item => ({\n                                ...item,\n                                urlParameters: bulkAdsForm.massApplyOptions.urlParams\n                              }))\n                            }));\n                          }\n                        }}\n                      >\n                        Apply URL Params to All\n                      </Button>\n                    </div>\n                  </div>\n\n                  {/* Mass Apply Options */}\n                  <div className=\"grid grid-cols-7 gap-4 p-4 border rounded\">\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Campaign</Label>\n                      <select\n                        value={bulkAdsForm.massApplyOptions.campaignId || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, campaignId: e.target.value }\n                        }))}\n                        className=\"w-full text-sm border rounded px-2 py-1\"\n                      >\n                        <option value=\"\">Select Campaign</option>\n                        {bulkAdsForm.campaigns.map((campaign) => (\n                          <option key={campaign.id} value={campaign.id}>\n                            {campaign.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Budget</Label>\n                      <Input\n                        type=\"number\"\n                        value={bulkAdsForm.massApplyOptions.budget || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, budget: parseFloat(e.target.value) || 0 }\n                        }))}\n                        placeholder=\"0.00\"\n                        className=\"text-sm\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Start Date</Label>\n                      <Input\n                        type=\"datetime-local\"\n                        value={bulkAdsForm.massApplyOptions.startDate ? bulkAdsForm.massApplyOptions.startDate.toISOString().slice(0, 16) : ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, startDate: e.target.value ? new Date(e.target.value) : null }\n                        }))}\n                        className=\"text-sm\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Facebook Page</Label>\n                      <select\n                        value={bulkAdsForm.massApplyOptions.facebookPageId || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, facebookPageId: e.target.value }\n                        }))}\n                        className=\"w-full text-sm border rounded px-2 py-1\"\n                      >\n                        <option value=\"\">Select Page</option>\n                        {bulkAdsForm.facebookPages.map((page) => (\n                          <option key={page.id} value={page.id}>\n                            {page.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Instagram Page</Label>\n                      <select\n                        value={bulkAdsForm.massApplyOptions.instagramPageId || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, instagramPageId: e.target.value }\n                        }))}\n                        className=\"w-full text-sm border rounded px-2 py-1\"\n                      >\n                        <option value=\"\">Select Page</option>\n                        {bulkAdsForm.instagramPages.map((page) => (\n                          <option key={page.id} value={page.id}>\n                            {page.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                                         <div className=\"space-y-2\">\n                       <Label className=\"text-xs\">Mass Apply Advantage+ Enhancements</Label>\n                       <p className=\"text-xs text-muted-foreground\">Configure individual ad settings for Advantage+ features</p>\n                     </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply Pixel</Label>\n                      <select\n                        value={bulkAdsForm.massApplyOptions.pixelId || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, pixelId: e.target.value }\n                        }))}\n                        className=\"w-full text-sm border rounded px-2 py-1\"\n                      >\n                        <option value=\"\">Select Pixel</option>\n                        {mockPixels.map((pixel) => (\n                          <option key={pixel.id} value={pixel.id}>\n                            {pixel.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs\">Mass Apply URL Params</Label>\n                      <Input\n                        value={bulkAdsForm.massApplyOptions.urlParams || ''}\n                        onChange={(e) => setBulkAdsForm(prev => ({\n                          ...prev,\n                          massApplyOptions: { ...prev.massApplyOptions, urlParams: e.target.value }\n                        }))}\n                        placeholder=\"key1=value1&key2=value2\"\n                        className=\"text-sm\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Individual Ad Rows */}\n                  <div className=\"space-y-2\">\n                    {bulkAdsForm.adItems.map((item) => (\n                      <AdRow\n                        key={item.id}\n                        ad={item}\n                        campaigns={bulkAdsForm.campaigns}\n                        facebookPages={bulkAdsForm.facebookPages}\n                        instagramPages={bulkAdsForm.instagramPages}\n                        pixels={mockPixels}\n                        templates={templates.data?.templates || []}\n                        selectedTemplateId={bulkAdsForm.templateId}\n                        onUpdate={(updatedAd) => {\n                          setBulkAdsForm(prev => ({\n                            ...prev,\n                            adItems: prev.adItems.map(item => \n                              item.id === updatedAd.id ? updatedAd : item\n                            )\n                          }));\n                        }}\n                        onRemove={() => {\n                          setBulkAdsForm(prev => ({\n                            ...prev,\n                            adItems: prev.adItems.filter(adItem => adItem.id !== item.id),\n                            uploadedMedia: prev.uploadedMedia.filter(media => \n                              !prev.adItems.find(adItem => adItem.id === item.id)?.mediaId.includes(media.id)\n                            )\n                          }));\n                        }}\n                        onTemplateChange={(templateId) => {\n                          setBulkAdsForm(prev => ({\n                            ...prev,\n                            templateId: templateId\n                          }));\n                        }}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              <Button \n                onClick={handleCreateBulkAds}\n                disabled={createEnhancedBulkAds.isPending || !bulkAdsForm.templateId || bulkAdsForm.adItems.length === 0}\n                className=\"w-full\"\n              >\n                {createEnhancedBulkAds.isPending ? 'Creating Ads...' : 'Create Bulk Ads'}\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Jobs Tab */}\n        <TabsContent value=\"jobs\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Job Status</CardTitle>\n              <CardDescription>\n                Monitor the progress of your bulk ad creation jobs\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {jobs.isLoading ? (\n                <div>Loading jobs...</div>\n              ) : jobs.data ? (\n                <div className=\"space-y-4\">\n                  {jobs.data.jobs.map((job) => (\n                    <div key={job.id} className=\"border rounded p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"font-semibold\">Job {job.id.slice(0, 8)}</h3>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {job.createdAds} created, {job.failedAds} failed\n                          </p>\n                        </div>\n                        <Badge variant={\n                          job.status === 'COMPLETED' ? 'default' :\n                          job.status === 'FAILED' ? 'destructive' :\n                          'secondary'\n                        }>\n                          {job.status}\n                        </Badge>\n                      </div>\n                      <Progress value={job.progress} className=\"mt-2\" />\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div>No jobs found</div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\nexport function Dashboard() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <DashboardContent />\n      <Toaster />\n    </QueryClientProvider>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}